{"version":3,"sources":["webpack:///./src/views/About.vue","webpack:///./src/views/About.vue?008a","webpack:///./src/views/About.vue?0e3a"],"names":["class","ref","id","start","change","setup","getHtml","scriptStr","iframeRef","console","log","value","html","win","contentWindow","doc","document","body","innerHTML","oldScript","querySelector","removeChild","newScript","createElement","type","appendChild","setTimeout","control","render","__scopeId"],"mappings":"iNACOA,MAAM,a,GACJA,MAAM,gB,GACDC,IAAI,YAAYC,GAAG,U,GAExBF,MAAM,W,+BACiB,M,+BACC,M,yGAN/B,gCAQM,MARN,EAQM,CAPJ,gCAEM,MAFN,EAEM,CADJ,gCAA6C,SAA7C,EAA6C,YAE/C,gCAGM,MAHN,EAGM,CAFJ,yBAAwC,GAA5B,QAAO,EAAAG,OAAK,C,8BAAE,iBAAE,C,0BAC5B,yBAAyC,GAA7B,QAAO,EAAAC,QAAM,C,8BAAE,iBAAE,C,wDAMpB,OACbC,MADa,WAEX,IAAMC,EAAU,WACd,IAAMC,EACJ,mOASF,oMAaAA,EAbA,iCAmBIC,EAAY,iBAAI,MAChBL,EAAQ,WACZM,QAAQC,IAAI,YAAa,CAACF,EAAUG,QACpC,IAAMC,EAAON,IACPO,EAAML,EAAUG,MAAMG,cACtBC,EAAMF,EAAIG,SAChBD,EAAIE,KAAKC,UAAYN,EAErB,IAAIO,EAAYJ,EAAIK,cAAc,WAClCL,EAAIE,KAAKI,YAAYF,GACrB,IAAIG,EAAYN,SAASO,cAAc,UACvCD,EAAUE,KAAO,kBACjBF,EAAUJ,UAAYC,EAAUD,UAChCH,EAAIE,KAAKQ,YAAYH,GACrBI,YAAW,WACLb,EAAIc,SACNd,EAAIc,QAAQ,QAAS,aAIrBvB,EAAS,WACb,IAAMS,EAAML,EAAUG,MAAMG,cACxBD,EAAIc,SACNd,EAAIc,QAAQ,QAAS,WAGzB,MAAO,CACLxB,QACAK,YACAJ,Y,UCrEN,EAAOwB,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,kCCRf","file":"js/chunk-6e851a83.a85b2a83.js","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"content page\">\n      <iframe ref=\"iframeRef\" id=\"iframe\"></iframe>\n    </div>\n    <div class=\"toolbar\">\n      <el-button @click=\"start\">加载</el-button>\n      <el-button @click=\"change\">变化</el-button>\n    </div>\n  </div>\n</template>\n<script>\nimport { ref } from \"vue\"\nexport default {\n  setup() {\n    const getHtml = () => {\n      const scriptStr =\n        `<script type='text/javascript' id='script'>` +\n        `window.control = function (type, value) {\n            if (type == \"color\") {\n                document.querySelector('.d').style.color = value\n            }\n        }` +\n        `<` +\n        `/script>`\n\n      return `\n        <html>\n\n<head>\n    <style type=\"text/css\">\n        .d {\n            color: red;\n        }\n    </style>\n</head>\n\n<body>\n    <div class=\"d\">ddddddddd</div>\n    ${scriptStr}\n</body>\n\n</html>\n      `\n    }\n    const iframeRef = ref(null)\n    const start = () => {\n      console.log(\"iframeRef\", [iframeRef.value])\n      const html = getHtml()\n      const win = iframeRef.value.contentWindow\n      const doc = win.document\n      doc.body.innerHTML = html\n\n      var oldScript = doc.querySelector(\"#script\")\n      doc.body.removeChild(oldScript)\n      var newScript = document.createElement(\"script\")\n      newScript.type = \"text/javascript\"\n      newScript.innerHTML = oldScript.innerHTML\n      doc.body.appendChild(newScript)\n      setTimeout(() => {\n        if (win.control) {\n          win.control(\"color\", \"green\")\n        }\n      })\n    }\n    const change = () => {\n      const win = iframeRef.value.contentWindow\n      if (win.control) {\n        win.control(\"color\", \"orange\")\n      }\n    }\n    return {\n      start,\n      iframeRef,\n      change,\n    }\n  },\n}\n</script>\n<style scoped lang=\"scss\">\n.container {\n  .content {\n    &.page {\n      height: 600px;\n      margin-right: 300px;\n\n      iframe {\n        width: 100%;\n        height: 100%;\n      }\n    }\n  }\n}\n</style>\n","import { render } from \"./About.vue?vue&type=template&id=ced16e36&scoped=true\"\nimport script from \"./About.vue?vue&type=script&lang=js\"\nexport * from \"./About.vue?vue&type=script&lang=js\"\n\nimport \"./About.vue?vue&type=style&index=0&id=ced16e36&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-ced16e36\"\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./About.vue?vue&type=style&index=0&id=ced16e36&scoped=true&lang=scss\""],"sourceRoot":""}